# dlnmRev

Place sample surgical followup file at ~/Documents/deidentified_Mar8.xlsx as this is not being shared over Github
Replace the first row (column headers) with the following - should be able to copy paste directly into Excel:

ID Composite_Readmit_Mort Discharge_TAVG_Adj O3_Disch PM25_Disch Patient_Age Sex Medicaid ADI_State Disadvantaged BMI Chronic_Lung_Disease_Adj Inhaled_Medication_or_Oral_Bronchodilator_Therapy Home_Oxygen_Adj Pneumonia_Recent Sleep_Apnea Hypertension Family_History_of_Premature_CAD Dyslipidemia Peripheral_Arterial_Disease Syncope Diabetes Cerebrovascular_Dis Active_Endocarditis Treated_Endocarditis Cancer_Within_5_Years Immunocompromise Mediastinal_Radiation Liver_Disease Renal_Fail_Dialysis Illicit_Drug_Use At_Risk_Alcohol_Use_ge8drinkswk Platelets Total_Albumin INR Last_Creat_Level Total_Bilirubin Last_Hematocrit MELD_Score Hemo_Data_EF VD_Aortic VD_Mitral VD_Tricuspid VD_Pulmonic Status CAB Valve Other_Card Other_Non_Card Total_OR_Time_hrs Lowest_Temperature Lowest_Hematocrit Cardiopulmonary_Bypass_Time Circulatory_Arrest Cross_Clamp_Time_min Intraop_Blood_Products IABP Blood_Prod Postop_Intubation_Reintubation_During_Hospital_Stay Total_Postoperative_Ventilation_Hours Readmission_to_ICU In_Hospital_PostOp_Events PostOp_Surgical_Site_Infection PostOp_ReOp_Bleed PostOp_ReOp_Other_Non_Card PostOp_Sepsis PostOp_NeuroStroke_Perm PostOp_Pulm_Vent_Prolonged PostOp_PulmPneumonia PostOp_Venous_ThromboembolismVTE PostOp_Pleural_Effusion_Req_Drainage PostOp_Renal_Renal_Failure PostOp_Rhythm_Disturbance_Req_Perm_Device PostOp_Other_Card_Arrest PostOp_Other_GI_Event PostOp_Other_A_Fib PostOp_ReOp_Vlv_Dys PostOp_Reintervention_Myocardial_Ischemia PostOp_Vasc_Acute_Limb_Isch PostOp_Other_Pericardiocentesis PostOp_ReOp_Other_Card PostOp_Open_Chest_wPlanned_Delayed_Sternal_Closure PostOp_Other_Anticoag_Event PostOp_Other_Multi_Sys_Fail Discharge_Location ACE_or_ARB_Inhibitors_Discharge Beta_Blockers_Discharge Admission_to_Discharge_LOS_d Surgery_to_Discharge_LOS_d Admission_to_Surgery_LOS_d

Then export to csv at ~/Documents/dlnmRevData/deidentified_Mar8.csv.

Run python /dlnmRev/card_surg_converted.py
Run R glm_wo_temperature.r
In Rstudio before running temps_trial.r, need to edit one line of plot function in dlnm as follows to make contour plot nicer
library("dlnm")
fix(plot.crosspred)
Go to line 155
Replace with: levels <- exp(pretty(log(x$matfit), 10))
